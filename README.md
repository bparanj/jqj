
rails new jqj --webpack




yarn add jquery

brew install yarn

Error: yarn 0.21.3 is already installed
To upgrade to 0.24.4, run `brew upgrade yarn`

brew upgrade yarn

# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
# yarn lockfile v1


jquery@^3.2.1:
  version "3.2.1"
  resolved "https://registry.yarnpkg.com/jquery/-/jquery-3.2.1.tgz#5c4d9de652af6cd0a770154a631bba12b015c787"

rails g model task name complete:boolean

class CreateTasks < ActiveRecord::Migration[5.1]
  def change
    create_table :tasks do |t|
      t.string :name
      t.boolean :complete, default: false, null: false

      t.timestamps
    end
  end
end

seeds.rb

The task partial uses form_with:

<%= form_with task do |f| %>
  <%= f.check_box :complete %>
  <%= f.submit "Update" %>
  <%= f.label :complete, task.name %>
  <%= link_to "(remove)", task, method: :delete, data: {confirm: "Are you sure?"} %>
<% end %>


The form partial uses form_with:

<%= form_with @task do |f| %>
  <%= f.text_field :name %>
  <%= f.submit %>
<% end %>

wrong number of arguments (given 1, expected 0)

localhost:3000

<%= form_with model: task do |f| %>


<%= form_with model: @task do |f| %>

Reload:
localhost:3000

Ajaxify

Create a new task.

Uncaught ReferenceError: $ is not defined

in the developer console.

//= jquery

in application.js:

//= require rails-ujs
//= require turbolinks
//= jquery  
//= require_tree .

Uncaught ReferenceError: $ is not defined


$rake yarn:install
env: node: No such file or directory

node -v
-bash: node: command not found

brew uninstall node
Error: Refusing to uninstall /usr/local/Cellar/node/7.10.0
because it is required by yarn 0.21.3, yarn 0.24.4, which are currently installed.
You can override this and force removal with:
  brew uninstall --ignore-dependencies node
  
brew uninstall --ignore-dependencies node  
brew uninstall --force node


https://nodejs.org/en/download/


node -v
v6.10.3

rake yarn:install
yarn install v0.24.4
[1/4] üîç  Resolving packages...
success Already up-to-date.
Done in 0.17s.



rails new jqj --webpack

couldn't find file 'jquery' with type 'application/javascript' 

gem 'jquery-rails'
bundle


<script src="/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" data-turbolinks-track="reload"></script>


http://pixelatedworks.com/articles/embracing-change-rails51-adopts-yarn-webpack-and-the-js-ecosystem/



